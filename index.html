<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Labubu</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Delius&family=Russo+One&family=Sour+Gummy:wght@400;700&display=swap"
    rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</head>

<body>
  <div class="bg-icons">
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
    <img src="images/example.jpg" alt="ID" />
  </div>

  <header class="header">
    <img src="/images/monster-logo-white.png" class="logo" alt="lububu" />
    <h1 class="main-title">LABUBU</h1>
    <div class="ca-container" style="display: inline-flex; align-items: center; gap: 10px;">
      <p class="ca ca-text" id="ca-text">CA:ENznRBqJRqkPjSXbvq5eFD67VfLsnFwsq8dVQj9bonk</p>
      <button id="copyCaBtn"
        style="padding: 4px 8px; background: white; color: black; border: none; cursor: pointer; font-weight: bold; border-radius:20px">Copy</button>
    </div>
  </header>

  <main>
    <form id="lububuForm" class="id-form">
      <div class="form-row">
        <label>Gender:<select id="gender">
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select></label>
        <label>Mystic Power:<select id="power">
            <option>Fire</option>
            <option>Ice</option>
            <option>Lightning</option>
            <option>Nature</option>
            <option>Shadow</option>
            <option>None</option>
          </select></label>
        <label>Teeth Type:<select id="teeth">
            <option>Sharp</option>
            <option>Goofy</option>
            <option>Square</option>
            <option>Missing</option>
            <option>Oversized</option>
          </select></label>
      </div>

      <div class="form-row">
        <label>Fur Color:<select id="furColor">
            <option>Red</option>
            <option>White</option>
            <option>Baby Blue</option>
            <option>Baby Pink</option>
            <option>Purple</option>
            <option>Teal</option>
            <option>Multicolored</option>
            <option>Striped</option>
          </select></label>
        <label>Eye Color:<select id="eyes">
            <option>Blue</option>
            <option>Green</option>
            <option>Black</option>
            <option>Yellow</option>
            <option>Mismatched</option>
          </select></label>
        <label>Mood / Style:<select id="mood">
            <option>Happy</option>
            <option>Evil</option>
            <option>Angry</option>
            <option>Goofy</option>
            <option>Shy</option>
            <option>Excited</option>
            <option>Gremlin like</option>
          </select></label>
      </div>

      <div class="form-row">
        <label>Tail Type:<select id="tail">
            <option>None</option>
            <option>Short Stubby</option>
            <option>Long Bushy</option>
            <option>Dragon</option>
          </select></label>
        <label>Accessories:<select id="accessories">
            <option>Bowtie</option>
            <option>Cape</option>
            <option>Satchel</option>
            <option>Crown</option>
            <option>Hoodie</option>
            <option>Pacifier</option>
          </select></label>
        <label>Clothes:<select id="clothes">
            <option>Nothing</option>
            <option>Dress</option>
            <option>Dungarees</option>
            <option>Baby Grow</option>
            <option>Shorts</option>
          </select></label>
      </div>

      <!-- <p class="img-or-upload">add your own pic</p> -->
      <button type="button" id="generateLububu" style="background:#89CFF0; color:black; font-weight:bold;">üé® Generate
        Lububu</button>
      <div id="loading-warning" class="pulse-warning"
        style="display:none; color: black; font-weight: bold; text-align: center; margin: 0.5rem 0;">
        ‚ö†Ô∏è Image generating... please wait!
      </div>

      <div class="file-upload-row">
        <label class="file-input-label">
          <input type="file" id="photo" accept="image/png,image/jpeg,image/jpg" />
          <small style="display: block; margin-top: 0.2rem; color: #666;">PNG or JPG, max 4MB</small>
        </label>
        <button type="button" id="makeLububuFromImage" style="background:#f3a2df; color:black; font-weight:bold;">Make
          Lububu From Own Image</button>
      </div>

      <!-- Head-in-Circle Mask Alignment Tool -->
      <div id="image-alignment-container" style="display: none; margin-top: 1em;">
        <h3 style="color: #f3a2df; margin-bottom: 0.5rem;">üéØ Align Your Image</h3>
        <p style="font-size: 0.9rem; color: #ccc; margin-bottom: 1rem;">
          Drag and zoom to position the head in the circle, then click "Process Image"
        </p>

        <div class="alignment-controls">
          <label for="zoom-slider">Zoom: <span id="zoom-value">100%</span></label>
          <input type="range" id="zoom-slider" min="5" max="300" value="100" style="width: 150px; margin: 0 1rem;">
          <button type="button" id="reset-position"
            style="background:#89CFF0; color:black; font-weight:bold; padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer;">Reset</button>
        </div>

        <div id="image-container" class="image-container">
          <img id="user-image" class="user-image" />
          <div id="mask-overlay" class="mask-overlay"></div>
        </div>

        <button type="button" id="process-image"
          style="background:#f3a2df; color:black; font-weight:bold; margin-top: 1rem; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer;">Process
          Image</button>
      </div>

      <div id="image-placeholder" style="margin-top: 1em; text-align: center;">
        <img src="images/example.jpg" alt="Your Lububu will appear here"
          style="max-width: 175px; height: auto; border: 2px dashed #ccc; border-radius: 12px;" />
      </div>

    </form>



    <footer class="footer" style="margin-top: 2em; text-align: center;">
      <button
        style="background:#89CFF0; color:black; font-weight:bold; padding: 10px 20px; margin: 10px; border:none; border-radius: 6px; cursor:pointer;">LABUBU
        TRIBE
        COMMUNITY</button>
      <button
        style="background:#89CFF0; color:black; font-weight:bold; padding: 10px 20px; margin: 10px; border:none; border-radius: 6px; cursor:pointer;">BUY
        LABUBU</button>
    </footer>


    <script>
      // üîπ Copy CA logic
      const btn = document.getElementById("copyCaBtn");
      const caTextElem = document.getElementById("ca-text");

      if (btn && caTextElem) {
        btn.addEventListener("click", () => {
          const raw = caTextElem.innerText;
          const actualCA = raw.replace(/^CA:\s*/, "").trim();
          navigator.clipboard.writeText(actualCA)
            .then(() => alert("CA copied to clipboard!"))
            .catch(() => alert("Failed to copy CA."));
        });
      }
    </script>



  </main>
  <!-- Load GSAP core -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>






  <!-- JS Animation files -->
  <script src="js/animations.js"></script>
  <script src="js/form-handler.js"></script>
</body>

</html>